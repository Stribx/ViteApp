import{r as l,c as t,m as s,_ as k,j as d}from"./index-8e283668.js";import{I as C,a as S,b as w,c as x}from"./App-c01fafa1.js";const y=l.memo(({onClick:n,open:u})=>t(s.button,{className:`add-button ${u?"open z":"open"}`,onClick:n,initial:{background:"var(--main-container-color)"},whileHover:{background:"#4B61A6"},whileTap:{background:"#fff"},children:t(C,{})}));const E=l.lazy(()=>k(()=>import("./Form-f06cb712.js"),["assets/Form-f06cb712.js","assets/index-8e283668.js","assets/index-d0a4c740.css"]));function _(){const[n,u]=l.useState(!1),[i,c]=l.useState([]),[r,f]=l.useState(null),[m,h]=l.useState({});l.useEffect(()=>{const e={};i.forEach(a=>{e[a.title]=a.body}),h(e)},[i]),l.useEffect(()=>{const e=window.localStorage.getItem("myNotes");e!==null&&c(JSON.parse(e))},[]),l.useEffect(()=>{window.localStorage.setItem("myNotes",JSON.stringify(i))},[i]);function N(){u(!n)}const p=e=>{if(i.find(o=>o.title===e.title)){alert("A note with this title already exists");return}c([...i,e])},v=e=>{c(i.filter(a=>a.title!==e))};function b(e){const a=i.find(o=>o.title===e);f(a)}function g(e){const a=i.map(o=>o.title===e?{title:e,body:m[e]}:o);c(a)}return d("div",{className:"Note",children:[t("div",{className:"containerNote",children:i.map(e=>d(s.div,{initial:{scale:0,rotate:0,borderRadius:"50%"},animate:{scale:1,rotate:360,borderRadius:"5px"},transition:{duration:2},id:"allNote",className:e.title,children:[d("div",{children:[t("h3",{children:e.title}),r?t("textarea",{value:m[e.title]||"",onChange:a=>h({...m,[e.title]:a.target.value})}):t("p",{children:e.body})]}),d("div",{className:"action",children:[t(s.button,{className:"remove",whileTap:{scale:.8},onClick:()=>v(e.title),children:t(S,{})}),t(s.button,{className:"edit",animate:r?{filter:"grayscale(100%)"}:{},whileTap:r?{}:{scale:.8},onClick:()=>b(e.title),children:t(w,{})}),r&&t(s.button,{className:"valid",whileTap:{scale:.8},onClick:()=>{g(e.title),f(null)},children:t(x,{})})]})]},e.title))}),t(l.Suspense,{fallback:t("div",{children:"..."}),children:t(E,{addNote:p,open:n})}),t(y,{onClick:N,open:n})]})}export{_ as default};
